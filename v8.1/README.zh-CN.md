### 新功能

- [枚举](https://php.watch/versions/8.1/enums)
- [纤程](https://php.watch/versions/8.1/fibers)
- [只读属性](https://php.watch/versions/8.1/readonly)
- [纯交集类型](https://php.watch/versions/8.1/intersection-types)
- [`never`返回类型](https://php.watch/versions/8.1/never-return-type)
- [`final`类常量](https://php.watch/versions/8.1/final-class-const)
- [New`fsync`and`fdatasync`functions](https://php.watch/versions/8.1/fsync-fdatasync)
- [New`array_is_list`function](https://php.watch/versions/8.1/array_is_list)
- [New Sodium`XChaCha20` functions](https://php.watch/versions/8.1/Sodium-XChaCha20-functions)
- [PDO SQLite:`file:`URI support](https://php.watch/versions/8.1/pdo-sqlite-file-uri)
- [Intl: New`IntlDatePatternGenerator`class](https://php.watch/versions/8.1/IntlDatePatternGenerator)
- [GD: AVIF image support](https://php.watch/versions/8.1/gd-avif)
- [First-class 可调用语法](https://php.watch/versions/8.1/first-class-callable-syntax)
- [New`#[ReturnTypeWillChange]`attribute](https://php.watch/versions/8.1/ReturnTypeWillChange)
- [Phar：添加了 OpenSSL-256 和 OpenSSL-512 签名算法](https://php.watch/versions/8.1/phar-openssl-256-openssl-512)
- [GD：无损 WebP 编码支持](https://php.watch/versions/8.1/gd-webp-lossless)
- [`$_FILES`: 目录上传的新`full_path`值](https://php.watch/versions/8.1/$_FILES-full-path)
- [对字符串键控数组的数组解包支持](https://php.watch/versions/8.1/spread-operator-string-array-keys)
- [显式八进制数字表示法](https://php.watch/versions/8.1/explicit-octal-notation)
- [哈希函数接受特定于算法的`$options`](https://php.watch/versions/8.1/hash-options)
- [MurmurHash3 哈希算法支持](https://php.watch/versions/8.1/MurmurHash3)
- [xxHash 哈希算法支持](https://php.watch/versions/8.1/xxHash)
- [FPM：可配置的子进程生成率](https://php.watch/versions/8.1/fpm-pm-max_spawn_rate)
- [Curl：DNS-over-HTTPS 支持](https://php.watch/versions/8.1/Curl-CURLOPT_DOH_URL)
- [Curl：从字符串上传文件`CURLStringFile`](https://php.watch/versions/8.1/CURLStringFile)
- [MySQLi：新`MYSQLI_REFRESH_REPLICA`常量](https://php.watch/versions/8.1/MYSQLI_REFRESH_REPLICA)

### 语法/功能更改

- [HTML 实体 en/decode 函数默认处理单引号和替换](https://php.watch/versions/8.1/html-entity-default-value-changes)
- [`$GLOBALS`可变限制](https://php.watch/versions/8.1/GLOBALS-restrictions)
- [`SplFixedArray`implements`JsonSerializable`和 json 编码为数组](https://php.watch/versions/8.1/SplFixedArray-JsonSerializable-json_encode)
- [Phar：默认签名算法从 SHA1 更改为 SHA256](https://php.watch/versions/8.1/phar-default-signature-sha256)
- [CLI：交互式 shell (`php -a`) 需要`readline`扩展](https://php.watch/versions/8.1/php-a-interactive-readline)
- [MySQLi：默认错误模式设置为异常](https://php.watch/versions/8.1/mysqli-error-mode)
- [可配置的行尾`fputcsv`和`SplFileObject::fputcsv`](https://php.watch/versions/8.1/fputcsv-eol)
- [`version_compare`运营商限制](https://php.watch/versions/8.1/version_compare-operator-restrictions)
- [<font style="vertical-align: inherit;"></font>`compact`使用非字符串和非数组字符串参数的函数调用</font><font style="vertical-align: inherit;">警告](https://php.watch/versions/8.1/compact-non-string-warning)
- [finfo 扩展：`file_info`资源迁移到现有`finfo`对象](https://php.watch/versions/8.1/finfo-resource)
- [IMAP：`imap`资源是`IMAP\Connection`类对象](https://php.watch/versions/8.1/IMAPConnection-resource)
- [FTP 扩展：连接资源是`FTP\Connection`类对象](https://php.watch/versions/8.1/FTPConnection-resource)
- [GD 扩展：字体标识符是`GdFont`类对象](https://php.watch/versions/8.1/GdFont-resource)
- [PostgreSQL:`resource`s 迁移到`\PgSql\Connection`,`\PgSql\Result`, 和`\PgSql\Lob`对象](https://php.watch/versions/8.1/PgSQL-resource)
- [LDAP:`resource`s 迁移到`LDAP\Connection`、`LDAP\Result`和`LDAP\ResultEntry`对象](https://php.watch/versions/8.1/LDAP-resource)
- [Pspell:`pspell`,`pspell config`资源是`PSpell\Dictionary`,`PSpell\Config`类对象](https://php.watch/versions/8.1/PSpell-resource)

### 弃用

- [不推荐传递`null`给不可为空的内部函数参数](https://php.watch/versions/8.1/internal-func-non-nullable-null-deprecation)
- [PHP 内置类方法中的返回类型和弃用通知](https://php.watch/versions/8.1/internal-method-return-types)
- [`Serializable`接口已弃用](https://php.watch/versions/8.1/serializable-deprecated)
- [不推荐使用隐式不兼容的 float 到 int 的转换](https://php.watch/versions/8.1/deprecate-implicit-conversion-incompatible-float-string)
- [`mysqli::get_client_info`方法并`mysqli_get_client_info($param)`已弃用](https://php.watch/versions/8.1/mysqli_get_client_info-deprecation)
- [`strptime`功能已弃用](https://php.watch/versions/8.1/strptime-deprecation)
- [`strftime`和`gmstrftime`功能已弃用](https://php.watch/versions/8.1/strftime-gmstrftime-deprecated)
- [`date_sunrise`,`date_sunset`函数和相关的 INI 设置已弃用](https://php.watch/versions/8.1/date_sunrise-date_sunset-funcs-deprecated)
- [`mhash*()`不推荐使用函数（哈希扩展）](https://php.watch/versions/8.1/ext-hash-mhash-deprecated)
- [`filter.default`和`filter.default_options`INI 设置已弃用](https://php.watch/versions/8.1/filter.default-filter.default_options-deprecated)
- [`PDO::FETCH_SERIALIZE`已弃用](https://php.watch/versions/8.1/PDO-FETCH_SERIALIZE-deprecated)
- [`auto_detect_line_endings`INI 指令已弃用](https://php.watch/versions/8.1/auto_detect_line_endings-ini-deprecated)
- [MySQLi：`mysqli_driver-&gt;driver_version`属性已弃用](https://php.watch/versions/8.1/mysqli_driver-driver_version-deprecation)
